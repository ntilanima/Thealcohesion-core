<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Thealcohesion Core</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="sovereign-environment">
    <header id="top-bar">
        <div class="system-title">Thealcohesion Core</div>
        <span id="top-bar-time" onclick="thealTimeApp.renderHUD()" style="cursor: pointer;">--:--:--</span>
        <div id="session-status">Identity Required</div>
    </header>

    <nav id="side-dock">
        <div class="dock-icon" title="App Center (VPU)">
            <img src="icons/vpu.png" alt="VPU">
        </div>
        <div class="dock-icon" title="Storage Utility">
            <img src="icons/storage.png" alt="Storage">
        </div>
    </nav>

    <main id="workspace">
        <div id="login-gate">
        <div class="login-box">
            <img src="logo.png" alt="Thealcohesion" class="login-logo">
            <h1>Identity Access</h1>
            <p>Virtual Pragmatic Universe</p>
            <input type="text" id="username" placeholder="Member Username">
            <input type="password" id="password" placeholder="Key Phrase">
            <button onclick="kernel.login()">Verify Identity</button>
            <p class="legal-notice">Access restricted to verified members per Section 0.5.2 of the Charter.</p>
        </div>
    </div>
    <div id="sovereign-shell" class="hidden">
        </div>
    </main>
    <script>// FORCED INITIALIZATION FUNCTION
function initVPOS() {
    console.log("Initializing VPU Shell...");

    // Create Shell Container
    const shellContainer = document.createElement('div');
    shellContainer.id = "vpu-shell-root";

    shellContainer.innerHTML = `
        <div id="vpu-start-menu" style="width: 280px; background: #0d0d19; border: 1px solid #a445ff; border-radius: 12px; padding: 15px; box-shadow: 0 10px 50px rgba(0,0,0,0.9);">
            <div style="color:#a445ff; font-size:10px; font-weight:bold; margin-bottom:15px; border-bottom:1px solid #333; padding-bottom:5px;">SYSTEM APPLICATIONS</div>
            
            <button class="menu-item" onclick="WindowManager.open(thealTimeApp); toggleStartMenu();">
                ðŸ“… Temporal Engine
            </button>
            
            <button class="menu-item" onclick="toggleStartMenu();">
                ðŸ“Ÿ Terminal (Link to your app)
            </button>

            <div style="margin-top:15px; font-size:9px; color:#444;">VPU GENESIS v1.0</div>
        </div>

        <div id="vpu-taskbar">
            <button onclick="toggleStartMenu()" style="width:34px; height:34px; background:#a445ff; border:none; border-radius:6px; cursor:pointer; color:white; font-weight:bold;">â˜…</button>
            
            <div id="vpu-active-tasks" style="display:flex; gap:8px; margin-left:12px;"></div>

            <div id="taskbar-clock" style="margin-left:auto; color:#a445ff; font-family:monospace; font-size:14px; letter-spacing:1px; font-weight:bold;">00:00:00</div>
        </div>
    `;

    document.body.appendChild(shellContainer);
}

// TOGGLE LOGIC
function toggleStartMenu() {
    const menu = document.getElementById('vpu-start-menu');
    if (menu) {
        const isVisible = menu.style.display === 'flex';
        menu.style.display = isVisible ? 'none' : 'flex';
    }
}

// Run the boot sequence
if (document.readyState === 'complete') {
    initVPOS();
} else {
    window.addEventListener('load', initVPOS);
}</script>

    <script src="auth.js"></script>

    <script src="kernel.js"></script>
    <script src="time.js"></script>

    <script src="vfs.js"></script>
    <script src="governance.js"></script>
    <script src="marketplace.js"></script>
    <script src="audit.js"></script>
    <script src="mediation.js"></script>
    <script src="resource-pool.js"></script>
    <script src="values-council.js"></script>

    <script src="ui.js"></script>
    
</body>
</html>